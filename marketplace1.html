<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aesthetic Marketplace — Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @keyframes floaty { 0% { transform: translateY(0)} 50% { transform: translateY(-6px)} 100% { transform: translateY(0)} }
        .card-hover { transition: transform .28s cubic-bezier(.22,.9,.39,1), box-shadow .28s; }
        .card-hover:hover { transform: translateY(-8px) scale(1.01); box-shadow: 0 20px 40px rgba(2,6,23,0.12); }
        .dark-mode { background-color: #0b1020; color: #e6eef8; }
        .logo-mark { width:40px; height:40px; border-radius:10px; background:linear-gradient(135deg,#7c3aed,#06b6d4); display:inline-block }
    </style>
</head>
<body class="text-gray-800 bg-gray-50" id="body">

    <!-- NAVBAR -->
    <nav class="w-full bg-white/80 backdrop-blur-md shadow-sm fixed top-0 left-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="logo-mark"></div>
                <h1 class="text-2xl font-bold tracking-tight">Aesthetic<span class="text-gray-400">Market</span></h1>
            </div>
            <div class="flex items-center gap-3">
                <input id="searchInput" type="text" placeholder="Cari barang..." class="w-72 px-4 py-2 rounded-xl border border-gray-300 bg-gray-50 focus:outline-none" />
                <button id="darkToggle" class="px-3 py-2 rounded-xl border">Dark</button>
            </div>
        </div>
    </nav>

    <!-- HERO -->
    <section class="w-full h-[280px] bg-gradient-to-br from-white to-gray-200 flex items-center justify-center mt-20 rounded-xl max-w-7xl mx-auto shadow-md">
        <div class="text-center px-6">
            <h2 class="text-4xl font-semibold mb-2">Belanja dengan gaya — Aesthetic & Clean</h2>
            <p class="text-gray-600">COD di tempat atau kirim dengan JNT, SiCepat, JNE — tampilan modern, responsive, dan cepat.</p>
        </div>
    </section>

    <!-- CONTENT WRAPPER -->
    <div class="max-w-7xl mx-auto mt-10 px-4">
        <div class="flex flex-col md:flex-row gap-6">
            <!-- SIDEBAR -->
            <aside class="w-full md:w-64 bg-white p-4 rounded-2xl shadow-lg sticky top-28 h-fit">
                <h3 class="font-semibold mb-3">Kategori</h3>
                <ul class="space-y-2 text-gray-700">
                    <li class="cursor-pointer hover:text-blue-600" data-cat="all">Semua</li>
                    <li class="cursor-pointer hover:text-blue-600" data-cat="smartphone">Smartphone</li>
                    <li class="cursor-pointer hover:text-blue-600" data-cat="tablet">Tablet</li>
                    <li class="cursor-pointer hover:text-blue-600" data-cat="laptop">Laptop</li>
                </ul>

                <hr class="my-4" />
                <h4 class="font-medium mb-2">Filter & Rekomendasi</h4>
                <div class="text-sm text-gray-500">Rekomendasi: flagship untuk performa, mid-range untuk value, budget untuk daily use.</div>
            </aside>

            <!-- MAIN -->
            <main class="flex-1">
                <div id="productGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>

                <div id="loadMoreWrap" class="text-center mt-8">
                    <button id="loadMore" class="px-6 py-3 rounded-full bg-gradient-to-r from-purple-500 to-cyan-400 text-white">Muat lebih banyak</button>
                </div>
            </main>
        </div>

        <!-- FOOTER -->
        <footer class="mt-12 py-6 text-center text-gray-500">
            <p>© 2025 AestheticMarket — COD & Pengiriman Online</p>
        </footer>
    </div>

    <!-- PRODUCT DETAIL MODAL -->
    <div id="modal" class="fixed inset-0 hidden items-center justify-center bg-black/50 z-50">
        <div class="bg-white rounded-2xl p-6 max-w-2xl w-full shadow-lg" id="modalContent">
            <div class="flex gap-4">
                <img id="modalImg" src="" class="w-48 h-48 object-cover rounded-xl" />
                <div>
                    <h3 id="modalTitle" class="text-xl font-semibold"></h3>
                    <div id="modalPrice" class="mt-2 font-bold text-lg"></div>
                    <p id="modalDesc" class="mt-3 text-gray-600"></p>
                    <div class="mt-4 flex gap-3">
                        <button id="addCartBtn" class="px-4 py-2 bg-green-600 text-white rounded-lg">Tambah ke Keranjang</button>
                        <button id="codBtn" class="px-4 py-2 border rounded-lg">Pilih COD</button>
                    </div>
                </div>
            </div>
            <div class="mt-4 text-right">
                <button id="closeModal" class="px-3 py-2 text-sm text-gray-600">Tutup</button>
            </div>
        </div>
    </div>

    <script>
        // --- DATASET: 150 produk (smartphone / tablet / laptop)
        // Harga dan model diisi berdasarkan pengecekan pasar (estimasi—verifikasi disarankan).
        const products = [];
        // Arrays of models to create variety (real models included)
        const smartphones = [
            'iPhone 15 Pro Max 256GB','iPhone 15 128GB','iPhone 14 128GB','Samsung Galaxy S25 Ultra 256GB','Samsung Galaxy S23 128GB','Samsung Galaxy Z Flip6','Samsung Galaxy Z Fold6','Xiaomi Redmi 13X 8/256GB','Xiaomi Redmi Note 12 8/128GB','Xiaomi 14','OPPO Find N5','OPPO Reno12','vivo V30 Pro','vivo Y100','realme GT5','POCO X6 Pro','Nokia G60','Motorola Edge 40','Google Pixel 8','OnePlus 12','Infinix Note 40','Tecno Pova 5','Samsung A15','Xiaomi Redmi 14C','Honor Magic Vs','Sony Xperia 1 V','Asus ROG Phone 8','Lenovo Legion Phone','vivo X100','OPPO Find X6','Samsung S24 FE'
        ];
        const tablets = ['iPad 10th Gen','iPad Air M1','Samsung Galaxy Tab S9','Xiaomi Pad 6','Lenovo Tab P11','Huawei MatePad 11'];
        const laptops = ['MacBook Air M2 256GB','MacBook Pro 14 M2 Pro','Asus Vivobook 14','Asus ROG Strix G15','Acer Aspire 5','Acer Swift 3','Lenovo IdeaPad 3','Lenovo Yoga Slim 7','HP Pavilion 15','Dell XPS 13','Dell Inspiron 15','MSI GF63','Microsoft Surface Laptop 5'];

        // Helper to push n items by cycling model arrays and assign realistic price ranges
        function addItems(list, category, count, priceFn) {
            for (let i=0;i<count;i++){
                const model = list[i % list.length] + (Math.floor(i/list.length) ? ' ' + (Math.floor(i/list.length)+1) : '');
                const id = (category[0]+ i + Date.now()).toString();
                const price = priceFn(model);
                products.push({ id, title: model, category, price, desc: category+ ' ' + model + ' — spesifikasi & harga standard.', img: 'https://picsum.photos/seed/'+encodeURIComponent(id)+'/600/400' });
            }
        }

        // Price functions (approx based on market sources)
        function phonePrice(model){
            // flagship keywords
            if (/Pro|Ultra|Max|12GB|16GB|14 Pro|14 Pro Max|15 Pro|S25|Find N5|X100|OnePlus 12/i.test(model)) return rand(9000000, 26000000);
            if (/Flip|Fold|Fold6|Flip6|Fold/i.test(model)) return rand(16000000, 32000000);
            if (/iPhone 14|iPhone 15|Pixel|Galaxy S23|Galaxy S24|Xiaomi 14|Find X6|Reno12/i.test(model)) return rand(7000000, 22000000);
            if (/Redmi|vivo|realme|POCO|Nokia|Motorola|Infinix|Tecno|Honor|Samsung A|Redmi 13X|14C/i.test(model)) return rand(1200000, 4999000);
            return rand(2500000, 8999000);
        }
        function tabletPrice(model){ if (/iPad|Galaxy Tab S9|MatePad/i.test(model)) return rand(4000000, 16000000); return rand(2500000, 7000000);} 
        function laptopPrice(model){ if (/MacBook Pro|ROG|XPS|Surface/i.test(model)) return rand(12000000, 55000000); if (/MacBook Air|Zenbook|Yoga|Swift/i.test(model)) return rand(8000000, 25000000); return rand(4000000, 12000000);} 
        function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

        // create 100 smartphones, 25 tablets, 25 laptops = 150
        addItems(smartphones,'smartphone',100, phonePrice);
        addItems(tablets,'tablet',25, tabletPrice);
        addItems(laptops,'laptop',25, laptopPrice);

        // --- RENDER LOGIC ---
        const grid = document.getElementById('productGrid');
        let displayed = 0; const perPage = 24;
        function money(n){ return 'Rp '+n.toLocaleString('id-ID'); }
        function renderChunk(){
            const chunk = products.slice(displayed, displayed+perPage);
            chunk.forEach(p=>{
                const el = document.createElement('article');
                el.className = 'bg-white p-4 rounded-2xl shadow card-hover';
                el.innerHTML = `
                    <img src="${p.img}" class="rounded-xl mb-3 w-full h-40 object-cover" />
                    <h4 class="font-semibold">${escapeHtml(p.title)}</h4>
                    <p class="text-gray-500 text-sm">${escapeHtml(p.desc)}</p>
                    <p class="font-bold mt-2">${money(p.price)}</p>
                    <div class="mt-3 flex gap-2">
                        <button class="openBtn px-3 py-1 border rounded" data-id="${p.id}">Detail</button>
                        <button class="addBtn px-3 py-1 bg-blue-600 text-white rounded" data-id="${p.id}">Tambah</button>
                    </div>
                `;
                grid.appendChild(el);
            });
            displayed += chunk.length;
            if(displayed >= products.length) document.getElementById('loadMore').style.display='none';
            attachButtons();
        }
        function attachButtons(){
            document.querySelectorAll('.openBtn').forEach(b=> b.onclick = ()=> openModal(b.dataset.id));
            document.querySelectorAll('.addBtn').forEach(b=> b.onclick = ()=> alert('Tambah ke keranjang: '+ b.dataset.id));
        }
        function openModal(id){
            const p = products.find(x=>x.id===id);
            if(!p) return;
            document.getElementById('modalImg').src = p.img;
            document.getElementById('modalTitle').textContent = p.title;
            document.getElementById('modalPrice').textContent = money(p.price);
            document.getElementById('modalDesc').textContent = p.desc;
            document.getElementById('modal').classList.remove('hidden');
            document.getElementById('modal').classList.add('flex');
        }
        document.getElementById('closeModal').onclick = ()=> { document.getElementById('modal').classList.add('hidden'); document.getElementById('modal').classList.remove('flex'); };
        document.getElementById('loadMore').onclick = renderChunk;
        document.getElementById('searchInput').addEventListener('input', (e)=>{
            const q = e.target.value.toLowerCase();
            grid.innerHTML = '';
            displayed = 0;
            const filtered = products.filter(p=> p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q));
            // temporarily render filtered small
            filtered.slice(0,48).forEach(p=>{
                const el = document.createElement('article');
                el.className = 'bg-white p-4 rounded-2xl shadow card-hover';
                el.innerHTML = `\n                    <img src="${p.img}" class="rounded-xl mb-3 w-full h-40 object-cover" />\n                    <h4 class="font-semibold">${escapeHtml(p.title)}</h4>\n                    <p class="text-gray-500 text-sm">${escapeHtml(p.desc)}</p>\n                    <p class="font-bold mt-2">${money(p.price)}</p>\n                `;
                grid.appendChild(el);
            });
        });

        function escapeHtml(str){ return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

        // Dark mode
        const darkToggle = document.getElementById('darkToggle');
        darkToggle.onclick = ()=>{
            document.getElementById('body').classList.toggle('dark-mode');
            if(document.getElementById('body').classList.contains('dark-mode')) darkToggle.textContent='Light'; else darkToggle.textContent='Dark';
        }

        // Initial render
        renderChunk();

        // Simple citation note (user-facing, not shown in file system)
        // Prices are generated from market ranges — verify before publishing.
    </script>
</body>
</html>